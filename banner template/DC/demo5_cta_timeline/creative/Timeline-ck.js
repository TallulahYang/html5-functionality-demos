var CEase=function(){function r(r){var e=r.length,n;if(1==e)n=r.slice();else{n=[{x:0,y:0}];for(var a=1;e>a;a+=2)n.push({x:r[a-1],y:r[a]});n.push({x:1,y:0})}var f=function(r,e,a,f){if(0>=f)return 0/0;if(0>=r)return e;var u=r/f;if(u>=1)return e+a;var i=n.length;if(1==i){var h=n[0];return h?(h>1?h=1:-1>h&&(h=-1),0>h?a*u*(u*-h+(1+h))+e:a*u*((2-u)*h+(1-h))+e):a*u+e}if(0>=u)return e;n[0].y=e,n[i-1].y=e+a;for(var v=[n[0],n[1],n[2],n[3]],x=[v],s=3;s<n.length-3;s+=3)x.push([n[s],n[s+1],n[s+2],n[s+3]]);var o=v;if(i>=5)for(var y=0;y<x.length;y+=1){var l=x[y];if(l[0].x<=u&&u<=l[3].x){o=l;break}}var c=t(o,u);return c};return f}function t(r,t,n){var a=r[0],f=r[1],u=r[2],i=r[3];if(a.x<i.x){if(t<=a.x+1e-16)return a.y;if(t>=i.x-1e-16)return i.y}else{if(t>=a.x+1e-16)return a.y;if(t<=i.x-1e-16)return i.y}n||(n=[-a.x+3*f.x-3*u.x+i.x,3*a.x-6*f.x+3*u.x,-3*a.x+3*f.x,a.x]);var h=e(n[0],n[1],n[2],n[3]-t),v=0/0;if(0==h.length)v=0;else if(1==h.length)v=h[0];else for(var x in h)if(0<=h[x]&&h[x]<=1){v=h[x];break}return isNaN(v)?0/0:(v*v*(i.y-a.y)+3*(1-v)*(v*(u.y-a.y)+(1-v)*(f.y-a.y)))*v+a.y}function e(r,t,e,n){var a,f;if(!r){var u=[];if(!t)return e?(u[0]=-n/e,u):[];a=e*e-4*t*n;var i=a>0?1:0>a?-1:0;return 0>i?[]:(i?(u[0]=u[1]=-e/(2*t),f=Math.sqrt(a)/(2*t),u[0]-=f,u[1]+=f):u[0]=-e/(2*t),u)}1!=r&&(t/=r,e/=r,n/=r),a=(t*t-3*e)/9;var h=a*a*a,v=(2*t*t*t-9*t*e+27*n)/54,x=h-v*v;if(x>=0){if(!a)return[0];var s=Math.acos(v/Math.sqrt(h)),o=Math.sqrt(a),y=-2*o*Math.cos(s/3)-t/3,l=-2*o*Math.cos((s+2*Math.PI)/3)-t/3,c=-2*o*Math.cos((s+4*Math.PI)/3)-t/3;return[y,l,c]}f=Math.pow(Math.sqrt(-x)+Math.abs(v),1/3);var M=v>0?1:0>v?-1:0,g=-M*(f+a/f)-t/3;return[g];return[]}var n={},a={};return n.getFun=function(t){var e="",n=t.length,f;for(f=0;n>f;f+=1)e=e.concat(t[f]+"");return 0==e.length?null:(a[e]||(a[e]=r(t)),a[e])},n}();
var $TL=function(){function l(e){for(var t=1;t<arguments.length;t++)o[arguments[t]]=e}function c(e){i[e]=0}function h(e,t){i[e]=t}function p(){TweenMax.delayedCall(r,p);for(var e in n)o[e]=="play"||o[e]=="loop"?i[e]++:o[e]=="toEnd"?i[e]<s[e]-1&&i[e]++:o[e]=="toStart"&&i[e]>10&&i[e]--}function d(s,l,c,h,d){for(var v=1;v<c.length;v++)e[v]=c[v]=="lin"?Linear.easeNone:new Ease(CEase.getFun(c[v]));imageInfos=l;seqs=h;svgs=d;t=s;$(".preload").each(function(){var e=$(this),t=e.data("source"),s=e.data("m"),l=e.attr("class").split(" "),c=l[0],h=t.replace("img/","").replace(".png","").replace(".jpg","").replace("SEQ","").replace("002x","");e.data("source","");var d;if(t&&seqs[h]&&o[c]){if(r==0){r=1/fps;p()}trace("addd........",h,c);n.have=!0;n[c]=seqs[h];i[c]=0;u[c]=[n[c][0][4],n[c][0][5]];e.wrap("<div class='seqWrapper'></div>");t=t.replace("img/SEQ","img/").replace("img/","img/SEQ");if(o[c]=="hover"){e.on("mouseover",function(e){o[c]="toEnd"});e.on("mouseout",function(e){o[c]="toStart"});e.on("click",function(e){o[c]="toStart"})}}if(f[c])return;if(s){$("."+s).append(e[0]);a[c]=s;f[s]=!0;$("."+s).css("overflow","hidden")}e.append("<img src='"+t+"' alt=''>")})}function v(e,t,n,r,i){return e[i[0]]}function m(e,r,i,o){function B(e,t){var n=y(u,l,e,t,m);for(var r=0;r<l.length;r++){var i=l[r];c[i].animater(h,c[i],n[i])}}function j(e){isNaN(e)||T.push(e);for(var t=0;t<T.length;t++)h.addPause(T[t])}function F(e){isNaN(e)?h.pause():h.pause(e)}function I(){return h.time()}function q(e){h.reverse(e)}function R(e,t){t&&B(t);h.play(e)}function U(e){}function z(){return h.paused()}function W(){h.progress(1)}function X(e){return c[e].matrix}function J(e){V=e}var u={},l=[],c={},h=new TimelineMax({repeat:i}),p=0,d=new TimelineMax,m=[],y=v,E="play",x=-1,T=[];for(var N=1;N<e.length;N++){var C=e[N],k=C[0];m.push(k);u[k]={};for(var L=1;L<C.length;L++){var A=C[L].shift(),O=t[A],M=n[O[0]],_=M?imageInfos[O[1][1]]:imageInfos[O[1][0]];O=O[0];var D=r.find("."+O);if(D.length==0)continue;if(!c[O]){D.hasClass("forceCSS")&&(_.forceCSS=!0);D.addClass("actor");l.push(O);D.sx=1;D.sy=1;D.movedOut=!0;D.totalFrames=M?M.length:0;s[O]=D.totalFrames;D.alphaValue=-1;var P=$("."+O).children();c[O]={precise:o,name:O,div:D,image:P,mask:a[O],isMask:f[O],imageInfo:_,animater:f[O]?b:g,seq:null};_.m=_.x*_.w;_.n=_.y*_.h;_.seq=M;if(!f[O]){P.css("left",_.m);P.css("top",_.n);P.css("width",_.w);P.css("height",_.h);P.attr("viewBox","0 0 "+_.w+" "+_.h);TweenLite.set(P,{autoAlpha:0});d.add(TweenMax.to(D,99999,{onUpdate:w,onUpdateParams:[O,c],overwrite:!1}),0)}}for(var H=0;H<C[L].length;H++)S(C[L][H-1],C[L][H]);u[k][O]=C[L]}}for(N=0;N<l.length;N++)c[l[N]].mask=c[c[l[N]].mask];var V;e={timeScale:U,resize:B,addPause:j,pause:F,play:R,paused:z,toEnd:W,time:I,setEndCallBack:J,reverse:q,getPosByID:X};return e}function g(t,n,r){var i=0,s=0,o,u,a=0,f=0,l=0,c=0,h=n.name,p=n.matrix={a:-1,x:0,y:0,sx:0,sy:0,o:0},d=n.imageInfo.w,v=n.imageInfo.h;if(!r)return;for(var m=0;m<r.length;m++){var g=r[m];s=g[0]/fps;if(isNaN(s))continue;s=T(s);var y=g[3],b=g[4];if(o&&u){t.add(TweenLite.fromTo(p,s-i,{a:u[5],x:u[1],y:u[2],sx:u[3],sy:u[4],o:u[6]},{a:g[5],x:g[1],y:g[2],sx:g[3],sy:g[4],o:g[6],roundProps:n.precise?"":"x,y",onUpdateParams:[p],overwrite:!1,ease:e[o]}),i);p.a=0}else t.add(TweenLite.to(p,1e-5,{a:g[5],x:g[1],y:g[2],sx:g[3],sy:g[4],o:g[6],roundProps:n.precise?"":"x,y",onUpdateParams:[p],overwrite:!1}),s);o=g[7];i=s;u=g}}function y(e){trace(e.x,e.y,e.sx,e.sy,e.a)}function b(t,n,r){var i=0,s=0,o,u,a=n.matrix={x:0,y:0,w:0,h:0};if(!r)return;for(var f=0;f<r.length;f++){var l=r[f];s=l[0]/fps;if(isNaN(s))continue;s=T(s);var c=n.imageInfo.w,h=n.imageInfo.h;if(o&&u){t.add(TweenLite.fromTo(a,s-i,{x:u[1],y:u[2],w:u[3]*c,h:u[4]*h},{x:l[1],y:l[2],w:l[3]*c,h:l[4]*h,roundProps:"x,y,w,h",overwrite:!1,ease:e[o]}),i);a.a=0}else t.add(TweenLite.to(a,1e-5,{x:l[1],y:l[2],w:l[3]*c,h:l[4]*h,roundProps:"x,y,w,h",overwrite:!1}),s);o=l[7];i=s;u=l}}function w(e,t){var n=t[e],r=n.matrix,s=n.div,o=n.imageInfo,a=n.mask,f=n.image;if(!r||r.a<=0){i[e]=0;if(s.alphaValue!=0){s.alphaValue=0;s.movedOut=!0;if(o.forceCSS){s.css("left",-1e4);s.css("top",-1e4);return}TweenLite.set(s,{x:-1e4,y:-1e4})}return}s.alphaValue!=r.a&&x(f,r.a,s);var l=r.x+" "+r.y+" "+T(r.sx)+" "+T(r.sy)+" "+T(r.o)+" "+s.movedOut;if(a){var c=a.matrix;l=l+c.x+" "+c.y+" "+T(c.w)+" "+T(c.h)}else if(o.seq){i[e]>=s.totalFrames?i[e]=0:null;var h=i[e];l+=h>>0}if(s.matrixString==l&&!s.movedOut)return;s.matrixString=l;s.movedOut=!1;if(o.forceCSS){s.css("left",r.x);s.css("top",r.y);s.css("width",r.sx*o.w>>0);s.css("height",r.sy*o.h>>0);f.css("left",o.m*r.sx);f.css("top",o.n*r.sy);return}if(a){var c=a.matrix,p=c.x+a.imageInfo.x*c.w,d=c.y+a.imageInfo.y*c.h;TweenLite.set(s,{x:r.x-p>>0,scaleX:T(r.sx),scaleY:T(r.sy),y:r.y-d>>0,rotation:r.o});var v=a.div;v.css("width",c.w>>0);v.css("height",c.h>>0);TweenLite.set(v,{x:p>>0,y:d>>0});return}if(o.seq){h>>=0;var m=o.seq[h],g=s.parent();TweenLite.set(s,{x:-u[e][0],y:-u[e][1],width:m[2],height:m[3]});TweenLite.set(g,{left:r.x,top:r.y,scaleX:r.sx,scaleY:r.sy,rotation:r.o});TweenLite.set(f,{x:-m[0],y:-m[1],width:o.w,height:o.h});return}if(n.precise){TweenLite.set(s,{x:r.x,scaleX:r.sx,scaleY:r.sy,y:r.y,rotation:r.o});return}TweenLite.set(s,{x:r.x>>0,scaleX:r.sx,scaleY:r.sy,y:r.y>>0,rotation:r.o})}function S(e,t){for(var n in E)t[E[n]]==undefined&&(t[E[n]]=e?e[E[n]]:0)}function x(e,t,n){t=T(t);n.alphaValue=t;TweenLite.set(e,{autoAlpha:t})}function T(e){return Math.round(e*1e3)/1e3}function N(e){return Math.round(e)}function C(e,t,n){return t==undefined?0:n==undefined?1:e<t?0:e>n?1:(e-t)/(n-t)}var e=[],t={},n={},r=0,i={},s={},o={},u={},a={},f={},E=[1,2,3,4,5,6];return{init:d,createTimeline:m,resetSeq:c,setSeqState:l,setSeqCurrentFrame:h}}();